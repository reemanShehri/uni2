{%load static%}


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UniHub Dashboard</title>
    <link rel="stylesheet" href="{% static 'css/Dashboard.css' %}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="dashboard">
        <!-- Navbar -->
        <nav class="navbar">
            <button class="menu-btn" id="menuBtn"><i class="fas fa-bars"></i></button>
            <h1>UniHub</h1>
            <div class="search-bar">
                <input type="text" placeholder="Search...">
                <i class="fas fa-search"></i>
            </div>
            <div class="navbar-icons">
                <div class="notifications">
                    <i class="fas fa-bell" id="notificationsIcon"></i>
                    <div class="notifications-dropdown" id="notificationsDropdown">
                        <ul>
                            <li>New message from Felix</li>
                            <li>Course update available</li>
                            <li>Reminder: Assignment due tomorrow</li>
                        </ul>
                    </div>
                </div>

                {% comment %} student {% endcomment %}

{% if student.profile_picture %}

    <img src="{{ student.profile_picture.url }}" alt="Profile Picture" class="profile-pic">
{% else %}
    <img src="/static/images/default-profile.jpg" alt="Default Profile Picture" class="profile-pic">
{% endif %}
        </nav>
        <!-- User Details -->
        <div class="user-details">
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="logo">
                <h1>UniHub</h1>
                <button class="close-btn" id="closeBtn">&times;</button>
            </div>
            <ul class="sidebar-menu">
                <li><a href="#" class="active"><i class="fas fa-home"></i> Dashboard</a></li>
                <li><a href="#"><i class="fas fa-book"></i> Courses</a></li>
                <li><a href="#"><i class="fas fa-bell"></i> Activity</a></li>
                <li><a href="#"><i class="fas fa-cog"></i> Settings</a></li>
                <li><a href="#"><i class="fas fa-sign-out-alt"></i> Log Out</a></li>
            </ul>
        </div>

        <!-- Main Content -->
        <div class="main-content" id="mainContent">
            <header>
                <h2>Hello, {{ user.username }}</h2>
                <p>Welcome back, {{ user.email }}student!</p>
            </header>
            

            <!-- Cards Section -->
            <div class="cards">
                <div class="card">
               
                    <div class="courses">
                        <h2>MY COURSES</h2>
                        {% for course in courses %}
                        <div class="course-item">
                            {% comment %} user. {% endcomment %}
                            <p>{{ course.name }} - {{ course.code }}</p>
                            <div class="details">
                                <span>{{ course.university.name }}</span>
                                <p>{{ course.description }}</p>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                    
            </div>

            <!-- Activity Section -->

            <div class="courses">
                <h2>MY COURSES</h2>
                <div class="course-item">
                    <p>Egestas dit dui scelerisque ut eu purus aliquam vitae habitasse.</p>
                    <div class="details">
                        <span>8 Jane Doe</span>
                        <p>Lorem Ipsum</p>
                    </div>
                </div>

            <div class="activity">
                <h2>ACTIVITY</h2>
                <ul class="activity-list">
                    <li class="activity-item">
                        <input type="checkbox" id="activity1">
                        <label for="activity1">Felix has replied on</label>
                        <p>At aliquam enim in cras arcu</p>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labo...</p>
                    </li>
                </ul>
            </div>


            <div class="settings">
                <h2>Settings</h2>
                <div class="settings-item">
                    <p><strong>University:</strong> {{ student.university.name }}</p>
                    <p><strong>Major:</strong> {{ student.major }}</p>
                    <p><strong>Academic Level:</strong> {{ student.academic_level }}</p>
                </div>
            </div>
        </div>            

    <script>
        // JavaScript لفتح وإغلاق الشريط الجانبي
        const sidebar = document.getElementById('sidebar');
        const menuBtn = document.getElementById('menuBtn');
        const closeBtn = document.getElementById('closeBtn');
        const mainContent = document.getElementById('mainContent');

        menuBtn.addEventListener('click', () => {
            sidebar.classList.toggle('active');
            mainContent.classList.toggle('active');
        });

        closeBtn.addEventListener('click', () => {
            sidebar.classList.remove('active');
            mainContent.classList.remove('active');
        });

        // JavaScript لإظهار وإخفاء قائمة الإشعارات
        const notificationsIcon = document.getElementById('notificationsIcon');
        const notificationsDropdown = document.getElementById('notificationsDropdown');

        notificationsIcon.addEventListener('click', () => {
            notificationsDropdown.classList.toggle('show');
        });

        // إغلاق قائمة الإشعارات عند النقر خارجها
        document.addEventListener('click', (event) => {
            if (!notificationsIcon.contains(event.target)) {
                notificationsDropdown.classList.remove('show');
            }
        });
    </script>
</body>
</html>